{% macro bookCard(hardcoverData, reviewScore, headingLevel = 'h2') %}
  {% if hardcoverData %}
    {% set scoreClass = 'score-bronze' if reviewScore <= 3.33 else ('score-silver' if reviewScore <= 6.66 else 'score-gold') %}
    
    <details class="tmdb-card" open>
      <summary class="tmdb-card-header">
        {% if headingLevel === 'h2' %}
          <h2 class="tmdb-card-title">
        {% else %}
          <h3 class="tmdb-card-title">
        {% endif %}
            <a href="https://hardcover.app/books/{{ hardcoverData.slug }}" target="_blank" rel="noopener noreferrer">
              {{ hardcoverData.title }}
            </a>
        {% if headingLevel === 'h2' %}
          </h2>
        {% else %}
          </h3>
        {% endif %}
        {% if reviewScore %}
          <div class="tmdb-review-score {{ scoreClass }}">
            <span>⭐ {{ reviewScore }}</span>
            <span class="tmdb-review-score-label">/10</span>
          </div>
        {% endif %}
      </summary>
      <div class="tmdb-metadata">
        <div class="tmdb-poster">
          {% if hardcoverData.cover_url %}
            <img src="{{ hardcoverData.cover_url }}" alt="Omslag för {{ hardcoverData.title }}">
          {% endif %}
        </div>
        <div class="tmdb-details">
          <div class="tmdb-info-grid">
            {% if hardcoverData.release_date %}
              <div class="tmdb-info-item">
                <strong>Utgivningsdatum:</strong>
                <span>{{ hardcoverData.release_date }}</span>
              </div>
            {% endif %}
            {% if hardcoverData.pages %}
              <div class="tmdb-info-item">
                <strong>Sidor:</strong>
                <span>{{ hardcoverData.pages }}</span>
              </div>
            {% endif %}
          </div>
          {% if hardcoverData.authors.length > 0 %}
            <div class="tmdb-info-item">
              <strong>Författare:</strong>
              <ul>
                {% for author in hardcoverData.authors %}
                  <li>{{ author }}</li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        </div>
      </div>
    </details>
  {% endif %}
{% endmacro %}
